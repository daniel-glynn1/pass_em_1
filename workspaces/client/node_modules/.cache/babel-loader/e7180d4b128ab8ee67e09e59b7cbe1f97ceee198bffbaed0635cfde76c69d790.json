{"ast":null,"code":"import { ClientEvents } from \"../shared/types/clientEvents\";\nimport { ServerEvents } from \"../shared/types/serverEvents\";\nimport { SocketExceptions } from \"../shared/types/socketExceptions\";\nclass GameService {\n  async joinGameRoom(socket, roomId) {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyJoin, {\n        roomId: roomId\n      });\n      socket.on(ServerEvents.LobbyJoined, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({\n        error\n      }) => rj(error));\n    });\n  }\n  async updateGame(socket, choice) {\n    socket.emit(ClientEvents.GameUpdate, {\n      choice: choice\n    });\n  }\n  async onGameUpdate(socket, listener) {\n    socket.on(ServerEvents.LobbyState, ({\n      gameState\n    }) => listener(gameState));\n  }\n  async onStartGame(socket, listener) {\n    socket.on(ServerEvents.GameStarted, listener);\n  }\n}\nexport default new GameService();","map":{"version":3,"names":["ClientEvents","ServerEvents","SocketExceptions","GameService","joinGameRoom","socket","roomId","Promise","rs","rj","emit","LobbyJoin","on","LobbyJoined","LobbyError","error","updateGame","choice","GameUpdate","onGameUpdate","listener","LobbyState","gameState","onStartGame","GameStarted"],"sources":["/Users/dcglynn/WebApps/pass_em_1/workspaces/client/src/services/gameService.ts"],"sourcesContent":["import { Socket } from \"socket.io-client\";\nimport { ClientEvents } from \"../shared/types/clientEvents\";\nimport { ServerEvents } from \"../shared/types/serverEvents\";\nimport { ServerPayloads } from \"../shared/types/serverPayloads\";\nimport { SocketExceptions } from \"../shared/types/socketExceptions\";\n\n\n\n\n\nclass GameService {\n  public async joinGameRoom(socket: Socket, roomId: string): Promise<boolean> {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyJoin, { roomId: roomId });\n      socket.on(ServerEvents.LobbyJoined, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({ error }) => rj(error));\n    });\n  }\n\n  public async updateGame(socket: Socket, choice: string){\n    socket.emit(ClientEvents.GameUpdate, { choice: choice });\n  }\n\n  public async onGameUpdate(socket: Socket, listener: (gameState: ServerPayloads[ServerEvents.LobbyState]) => void) {\n    socket.on(ServerEvents.LobbyState, ({ gameState }) => listener(gameState));\n  }\n\n\n  public async onStartGame(socket: Socket, listener: () => void) {\n    socket.on(ServerEvents.GameStarted, listener);\n  }\n\n}\n\n\nexport default new GameService();"],"mappings":"AACA,SAASA,YAAY,QAAQ,8BAA8B;AAC3D,SAASC,YAAY,QAAQ,8BAA8B;AAE3D,SAASC,gBAAgB,QAAQ,kCAAkC;AAMnE,MAAMC,WAAW,CAAC;EAChB,MAAaC,YAAYA,CAACC,MAAc,EAAEC,MAAc,EAAoB;IAC1E,OAAO,IAAIC,OAAO,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAK;MAC7BJ,MAAM,CAACK,IAAI,CAACV,YAAY,CAACW,SAAS,EAAE;QAAEL,MAAM,EAAEA;MAAO,CAAC,CAAC;MACvDD,MAAM,CAACO,EAAE,CAACX,YAAY,CAACY,WAAW,EAAE,MAAM;QACxCL,EAAE,CAAC,IAAI,CAAC;MACV,CAAC,CAAC;MACFH,MAAM,CAACO,EAAE,CAACV,gBAAgB,CAACY,UAAU,EAAE,CAAC;QAAEC;MAAM,CAAC,KAAKN,EAAE,CAACM,KAAK,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;EAEA,MAAaC,UAAUA,CAACX,MAAc,EAAEY,MAAc,EAAC;IACrDZ,MAAM,CAACK,IAAI,CAACV,YAAY,CAACkB,UAAU,EAAE;MAAED,MAAM,EAAEA;IAAO,CAAC,CAAC;EAC1D;EAEA,MAAaE,YAAYA,CAACd,MAAc,EAAEe,QAAsE,EAAE;IAChHf,MAAM,CAACO,EAAE,CAACX,YAAY,CAACoB,UAAU,EAAE,CAAC;MAAEC;IAAU,CAAC,KAAKF,QAAQ,CAACE,SAAS,CAAC,CAAC;EAC5E;EAGA,MAAaC,WAAWA,CAAClB,MAAc,EAAEe,QAAoB,EAAE;IAC7Df,MAAM,CAACO,EAAE,CAACX,YAAY,CAACuB,WAAW,EAAEJ,QAAQ,CAAC;EAC/C;AAEF;AAGA,eAAe,IAAIjB,WAAW,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}