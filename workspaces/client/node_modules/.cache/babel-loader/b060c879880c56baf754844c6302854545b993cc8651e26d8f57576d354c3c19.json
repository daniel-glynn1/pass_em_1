{"ast":null,"code":"import { ClientEvents } from \"../shared/types/clientEvents\";\nimport { ServerEvents } from \"../shared/types/serverEvents\";\nimport { SocketExceptions } from \"../shared/types/socketExceptions\";\nclass GameService {\n  async createGameRoom(socket, roomId, userName) {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyCreate, {\n        roomId: roomId,\n        userName: userName\n      });\n      socket.on(ServerEvents.LobbyCreated, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({\n        error\n      }) => rj(error));\n    });\n  }\n  async joinGameRoom(socket, roomId, userName) {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyJoin, {\n        roomId: roomId,\n        userName: userName\n      });\n      socket.on(ServerEvents.LobbyJoined, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({\n        error\n      }) => rj(error));\n    });\n  }\n  async updateGame(socket, choice) {\n    socket.emit(ClientEvents.GameUpdate, {\n      choice: choice\n    });\n  }\n  async onGameUpdate(socket, listener) {\n    socket.on(ServerEvents.LobbyState, data => {\n      listener(data);\n    });\n  }\n  async onGameMessage(socket, listener) {\n    socket.on(ServerEvents.GameMessage, data => {\n      listener(data);\n    });\n  }\n  async onStartGame(socket, listener) {\n    socket.on(ServerEvents.GameStarted, listener);\n  }\n}\nexport default new GameService();","map":{"version":3,"names":["ClientEvents","ServerEvents","SocketExceptions","GameService","createGameRoom","socket","roomId","userName","Promise","rs","rj","emit","LobbyCreate","on","LobbyCreated","LobbyError","error","joinGameRoom","LobbyJoin","LobbyJoined","updateGame","choice","GameUpdate","onGameUpdate","listener","LobbyState","data","onGameMessage","GameMessage","onStartGame","GameStarted"],"sources":["/Users/dcglynn/WebApps/pass_em_1/workspaces/client/src/services/gameService.ts"],"sourcesContent":["import { Socket } from \"socket.io-client\";\nimport { ClientEvents } from \"../shared/types/clientEvents\";\nimport { ServerEvents } from \"../shared/types/serverEvents\";\nimport { ServerPayloads } from \"../shared/types/serverPayloads\";\nimport { SocketExceptions } from \"../shared/types/socketExceptions\";\n\n\n\n\n\nclass GameService {\n  public async createGameRoom(socket: Socket, roomId: string, userName: string): Promise<boolean> {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyCreate, { roomId: roomId, userName: userName });\n      socket.on(ServerEvents.LobbyCreated, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({ error }) => rj(error));\n    });\n  }\n\n  public async joinGameRoom(socket: Socket, roomId: string, userName: string): Promise<boolean> {\n    return new Promise((rs, rj) => {\n      socket.emit(ClientEvents.LobbyJoin, { roomId: roomId, userName: userName });\n      socket.on(ServerEvents.LobbyJoined, () => {\n        rs(true);\n      });\n      socket.on(SocketExceptions.LobbyError, ({ error }) => rj(error));\n    });\n  }\n\n  public async updateGame(socket: Socket, choice: string){\n    socket.emit(ClientEvents.GameUpdate, { choice: choice });\n  }\n\n  public async onGameUpdate(socket: Socket, listener: (data: ServerPayloads[ServerEvents.LobbyState]) => void) {\n    socket.on(ServerEvents.LobbyState, ( data ) => {\n      listener(data);\n    });\n  }\n\n  public async onGameMessage(socket: Socket, listener: (data: ServerPayloads[ServerEvents.GameMessage]) => void) {\n    socket.on(ServerEvents.GameMessage, ( data ) => {\n      listener(data);\n    });\n  }\n\n\n  public async onStartGame(socket: Socket, listener: () => void) {\n    socket.on(ServerEvents.GameStarted, listener);\n  }\n\n}\n\n\nexport default new GameService();"],"mappings":"AACA,SAASA,YAAY,QAAQ,8BAA8B;AAC3D,SAASC,YAAY,QAAQ,8BAA8B;AAE3D,SAASC,gBAAgB,QAAQ,kCAAkC;AAMnE,MAAMC,WAAW,CAAC;EAChB,MAAaC,cAAcA,CAACC,MAAc,EAAEC,MAAc,EAAEC,QAAgB,EAAoB;IAC9F,OAAO,IAAIC,OAAO,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAK;MAC7BL,MAAM,CAACM,IAAI,CAACX,YAAY,CAACY,WAAW,EAAE;QAAEN,MAAM,EAAEA,MAAM;QAAEC,QAAQ,EAAEA;MAAS,CAAC,CAAC;MAC7EF,MAAM,CAACQ,EAAE,CAACZ,YAAY,CAACa,YAAY,EAAE,MAAM;QACzCL,EAAE,CAAC,IAAI,CAAC;MACV,CAAC,CAAC;MACFJ,MAAM,CAACQ,EAAE,CAACX,gBAAgB,CAACa,UAAU,EAAE,CAAC;QAAEC;MAAM,CAAC,KAAKN,EAAE,CAACM,KAAK,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;EAEA,MAAaC,YAAYA,CAACZ,MAAc,EAAEC,MAAc,EAAEC,QAAgB,EAAoB;IAC5F,OAAO,IAAIC,OAAO,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAK;MAC7BL,MAAM,CAACM,IAAI,CAACX,YAAY,CAACkB,SAAS,EAAE;QAAEZ,MAAM,EAAEA,MAAM;QAAEC,QAAQ,EAAEA;MAAS,CAAC,CAAC;MAC3EF,MAAM,CAACQ,EAAE,CAACZ,YAAY,CAACkB,WAAW,EAAE,MAAM;QACxCV,EAAE,CAAC,IAAI,CAAC;MACV,CAAC,CAAC;MACFJ,MAAM,CAACQ,EAAE,CAACX,gBAAgB,CAACa,UAAU,EAAE,CAAC;QAAEC;MAAM,CAAC,KAAKN,EAAE,CAACM,KAAK,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;EAEA,MAAaI,UAAUA,CAACf,MAAc,EAAEgB,MAAc,EAAC;IACrDhB,MAAM,CAACM,IAAI,CAACX,YAAY,CAACsB,UAAU,EAAE;MAAED,MAAM,EAAEA;IAAO,CAAC,CAAC;EAC1D;EAEA,MAAaE,YAAYA,CAAClB,MAAc,EAAEmB,QAAiE,EAAE;IAC3GnB,MAAM,CAACQ,EAAE,CAACZ,YAAY,CAACwB,UAAU,EAAIC,IAAI,IAAM;MAC7CF,QAAQ,CAACE,IAAI,CAAC;IAChB,CAAC,CAAC;EACJ;EAEA,MAAaC,aAAaA,CAACtB,MAAc,EAAEmB,QAAkE,EAAE;IAC7GnB,MAAM,CAACQ,EAAE,CAACZ,YAAY,CAAC2B,WAAW,EAAIF,IAAI,IAAM;MAC9CF,QAAQ,CAACE,IAAI,CAAC;IAChB,CAAC,CAAC;EACJ;EAGA,MAAaG,WAAWA,CAACxB,MAAc,EAAEmB,QAAoB,EAAE;IAC7DnB,MAAM,CAACQ,EAAE,CAACZ,YAAY,CAAC6B,WAAW,EAAEN,QAAQ,CAAC;EAC/C;AAEF;AAGA,eAAe,IAAIrB,WAAW,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}